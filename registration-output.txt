ğŸš€ Ã–deal Configuration Registration Tool
==========================================

ğŸ“‹ STEP 1: Checking current configuration
ğŸ” Verifying current Ã–deal configuration...
ğŸ“¡ Configuration check status: 405
ğŸ“„ Current configuration: {"type":"problemDetail.type.org.springframework.web.HttpRequestMethodNotSupportedException","title":"problemDetail.title.org.springframework.web.HttpRequestMethodNotSupportedException","status":405,"detail":"problemDetail.org.springframework.web.HttpRequestMethodNotSupportedException","instance":"/api/v1/configuration"}

ğŸ“‹ STEP 2: Testing basket URL accessibility
ğŸ§ª Testing basket URL accessibility...
ğŸ”— Basket URL test: 200
ğŸ“„ Response: {"referenceCode":"test_1759241660084","receiptInfo":{},"customInfo":null,"employeeInfo":{"employeeReferenceCode":"MyEmployee123","name":"SambaPOS","surname":"Test","identityNumber":"5999999999","gsmNu...

ğŸ“‹ STEP 3: Registering configuration with Ã–deal
ğŸ”§ Ã–deal Configuration Registration Starting...
ğŸ“‹ Configuration payload:
{
  "basketType": "EXTERNAL_BASKET_WITH_APP",
  "basketUrl": "https://odeal-adapter-standalone.onrender.com/app2app/baskets",
  "customerGetUrl": "https://odeal-adapter-standalone.onrender.com/app2app/customers",
  "customerPostUrl": "https://odeal-adapter-standalone.onrender.com/app2app/customers",
  "intentUrl": "https://odeal-adapter-standalone.onrender.com/odeal/a2a-result",
  "paymentSucceededUrl": "https://odeal-adapter-standalone.onrender.com/webhooks/odeal/payment-succeeded",
  "paymentFailedUrl": "https://odeal-adapter-standalone.onrender.com/webhooks/odeal/payment-failed",
  "paymentCancelledUrl": "https://odeal-adapter-standalone.onrender.com/webhooks/odeal/payment-cancelled",
  "basketCancelledUrl": "https://odeal-adapter-standalone.onrender.com/webhooks/odeal/basket-cancelled",
  "paybackSucceededUrl": "https://odeal-adapter-standalone.onrender.com/webhooks/odeal/payback-succeeded",
  "eInvoiceCreatedUrl": "https://odeal-adapter-standalone.onrender.com/webhooks/odeal/einvoice-created",
  "eInvoiceCancelledUrl": "https://odeal-adapter-standalone.onrender.com/webhooks/odeal/einvoice-cancelled",
  "eCommerceUrl": "https://odeal-adapter-standalone.onrender.com/ecommerce",
  "odealRequestKey": "ODEAL01234567890",
  "eInvoiceIntegrator": "ODEAL"
}

ğŸ“¡ HTTP Response Status: 400
ğŸ“¥ Response Headers: {
  server: 'nginx',
  date: 'Tue, 30 Sep 2025 14:14:20 GMT',
  'content-type': 'application/json',
  'transfer-encoding': 'chunked',
  connection: 'keep-alive',
  vary: 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers',
  'x-kong-request-id': '629a9d06a2d0727aff19033d53b53b35',
  'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
  'x-content-type-options': 'nosniff'
}
ğŸ“„ Response Body: {"code":1117,"exceptionType":"PARAMETER_VALIDATION","message":"GeÃ§ersiz sepet tipi","userMessage":"GeÃ§ersiz sepet tipi"}

âŒ Configuration registration failed!

ğŸ’¥ FAILED: Configuration registration failed
Error: HTTP 400: {"code":1117,"exceptionType":"PARAMETER_VALIDATION","message":"GeÃ§ersiz sepet tipi","userMessage":"GeÃ§ersiz sepet tipi"}

ğŸ”§ Troubleshooting steps:
1. Check ODEAL_REQUEST_KEY is valid
2. Verify Netlify functions are deployed and accessible
3. Contact Ã–deal support if API issues persist
4. Check odeal-config-registration.log for details

